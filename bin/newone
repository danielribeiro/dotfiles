#!/bin/bash
# go to a place, or back in history
set -e 
curbranch=`git rev-parse --abbrev-ref HEAD`
filename=`git rev-parse --show-toplevel`/.git/git-history
if [[ $# -lt 1 ]]
    then if [ -f $filename ]
        then
            last_branch=`tail -n 1 $filename`
            echo $curbranch >> $filename && git checkout $last_branch
        else
            echo No git history. Cannot go back
        fi
    else 
    echo $curbranch >> $filename &&  git checkout $1
fi
